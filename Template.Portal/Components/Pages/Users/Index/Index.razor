@page "/users/index"
@inherits BasePage


<PartaialPageTitle Header="System Users" Title="System Users">
    <Content>
        <PartialModal ButtonCSS="float-right btn btn-info btn-sm mr-1"
                      Button="Register New User"
                      Heading="Register New User"
                      Id="RegisterNewUser"
                      Size="modal-xl"
                      ShowFooter="false">
            <Content>
                <AddUserModal></AddUserModal>
            </Content>
        </PartialModal>
    </Content>
</PartaialPageTitle>

@* <RadzenGrid 
    RowRender="RowRender"  
    AllowPaging="true" 
    AllowFiltering="true" 
    FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" 
    PageSize="10" 
    AllowSorting="true" 
    Data="@Users" 
    TItem="ViewUserViewModel">
        <Columns>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="CreatedDate" Title="CreatedDate"></RadzenGridColumn>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="Email" Title="Email"></RadzenGridColumn>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="FirstName" Title="FirstName"></RadzenGridColumn>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="LastName" Title="LastName"></RadzenGridColumn>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="EmailConfirmed" Title="EmailConfirmed"></RadzenGridColumn>
            <RadzenGridColumn TItem="ViewUserViewModel" Property="AccessFailedCount" Title="AccessFailedCount"></RadzenGridColumn>
        </Columns>
    </RadzenGrid> *@

<RadzenDataGrid 
    Data="@Users"
    AllowVirtualization="false"                  
    AllowFiltering="true" 
    AllowColumnResize="true"
    AllowAlternatingRows="false"
    FilterMode="FilterMode.Advanced" 
    PageSize="5" 
    AllowPaging="true" 
    ColumnWidth="300px" 
    PagerHorizontalAlign="HorizontalAlign.Left" 
    ShowPagingSummary="true"
    FilterPopupRenderMode="PopupRenderMode.OnDemand" 
    FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" 
    LogicalFilterOperator="LogicalFilterOperator.Or"   
    SelectionMode="DataGridSelectionMode.Single"
    TItem="ViewUserViewModel"
    RowClick="@OnRowClick"
    RowSelect="@OnRowSelect"
    RowRender="@RowRender"
    AllowSorting="true">
    <Columns>
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.Email)" Title="Email" Frozen="true" width="250px"/>
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.CreatedDate)" Title="CreatedDate" width="160px"/>  
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.FirstName)" Title="FirstName" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.LastName)" Title="LastName" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.PhoneNumber)" Title="PhoneNumber" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.EmailConfirmed)" Title="EmailConfirmed" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.LockoutEnd)" Title="LockoutEnd" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.LockoutEnabled)" Title="LockoutEnabled" />
        <RadzenDataGridColumn Property="@nameof(ViewUserViewModel.AccessFailedCount)" Title="AccessFailedCount" />
    </Columns>
</RadzenDataGrid>